<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Translator.TargetPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Translator"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:converters="using:Translator"
    NavigationCacheMode="Required"
    mc:Ignorable="d">

    <Page.Resources>
        <converters:InvBoolConv
            x:Key="InvBoolConv" />
        <converters:BoolToOpacityConv
            x:Key="BoolToOpacityConv" />
        <converters:BoolToVisibilityConv
            x:Key="BoolToVisibilityConv" />
    </Page.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition
                Height="*" />
        </Grid.RowDefinitions>

        <ScrollViewer
            Grid.Row="0">
            <StackPanel
                Spacing="20"
                Margin="10,10,10,10">

                <StackPanel
                    Spacing="10">
                    <TextBlock
                        Text="Target Project Root Path">
                    </TextBlock>

                    <StackPanel
                        Spacing="20">
                        <StackPanel
                            Orientation="Horizontal"
                            Spacing="10">

                            <Button
                                IsEnabled="{x:Bind Vm.IsAddingTarget, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                                Command="{x:Bind Vm.AddTargetCommand}"
                                Content="Add">
                            </Button>
                            <Button
                                IsEnabled="{x:Bind Vm.IsAddingTarget, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                                Command="{x:Bind Vm.RemoveTargetCommand}"
                                Content="Remove">
                            </Button>
                            <TextBlock
                                VerticalAlignment="Center"
                                Visibility="{x:Bind Vm.IsTargetPathInvalid, Mode=OneWay, Converter={StaticResource BoolToVisibilityConv}}"
                                Text="&#x274C; Invalid target root path" />
                            <TextBlock
                                VerticalAlignment="Center"
                                Visibility="{x:Bind Vm.TargetNotConfigured, Mode=OneWay, Converter={StaticResource BoolToVisibilityConv}}"
                                Text="&#x274C; Target not configured" />
                        </StackPanel>

                    </StackPanel>
                    
                    <ComboBox
                        MinWidth="600"
                        SelectedItem="{x:Bind Vm.Target, Mode=TwoWay}" 
                        IsEnabled="{x:Bind Vm.IsAddingTarget, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                        ItemsSource="{x:Bind Vm.TargetList}" />

                    <StackPanel
                        Visibility="{x:Bind Vm.IsAddingTarget, Mode=OneWay}"
                        Spacing="10">
                        <StackPanel
                            VerticalAlignment="Top"
                            Orientation="Horizontal">
                            <TextBox
                                x:Name="tbScanPath"
                                Width="800"
                                IsReadOnly="False"
                                FontFamily="Courier New"
                                HorizontalAlignment="Left"
                                Text="{x:Bind Vm.InputTarget, Mode=TwoWay}"
                                IsEnabled="{x:Bind Vm.IsBusy, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                                PlaceholderText="Enter path..."
                                TextAlignment="Left">
                            </TextBox>
                        </StackPanel>
                        <StackPanel
                            VerticalAlignment="Top"
                            Spacing="60"
                            Orientation="Horizontal">
                            <Button
                                IsEnabled="{x:Bind Vm.IsBusy, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                                Command="{x:Bind Vm.AddTargetSaveCommand}"
                                Content="Save">
                            </Button>
                            <Button
                                IsEnabled="{x:Bind Vm.IsBusy, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                                Command="{x:Bind Vm.AddTargetCancelCommand}"
                                Content="Cancel">
                            </Button>
                        </StackPanel>
                    </StackPanel>


                    <TextBlock
                        FontFamily="Courier New"
                        Text="ex: C:\Repo\WinUITranslator\Sample-Packaged">
                    </TextBlock>

                    <TextBlock
                        TextWrapping="WrapWholeWords"
                        Text="Note: The Target Root Path must contain the target .csproj file.">
                    </TextBlock>

                    <TextBlock
                        TextWrapping="WrapWholeWords"
                        Text="Note: Create a \Translator folder in the target root folder and copy all contents from thisApp\Target\Translator into it. This setup only needs to be done once.  Do not deploy or publish the contents of this folder or include it in builds  (build action = none, do not copy).">
                    </TextBlock>

                    <TextBlock
                        TextWrapping="WrapWholeWords"
                        Text="Note: If the target project needs to do any dynamic translation (like a status message that you compose programmatically), you must include thisApp\Target\Translator\TLocalized.cs.  You can copy it to the target project, or link to it.">
                    </TextBlock>

                    <TextBlock
                        TextWrapping="WrapWholeWords"
                        Text="Note: For each desired language, make sure the target project has a \Strings folder with a culture subfolder.  Copy the \Translator\Resources.resw to the subfolders.  It should look like:">
                    </TextBlock>

                    <StackPanel>
                        <TextBlock
                            FontFamily="Courier New"
                            TextWrapping="WrapWholeWords"
                            Text="\Strings\en-US\Resources.resw  -- this is the 'fromCulture'">
                        </TextBlock>

                        <TextBlock
                            FontFamily="Courier New"
                            TextWrapping="WrapWholeWords"
                            Text="\Strings\fr-FR\Resources.resw -- this is a 'toCulture'">
                        </TextBlock>

                        <TextBlock
                            FontFamily="Courier New"
                            TextWrapping="WrapWholeWords"
                            Text="\Strings\ar-SA\Resources.resw -- this is a 'toCulture'">
                        </TextBlock>

                        <TextBlock
                            TextWrapping="WrapWholeWords"
                            Text="etc...">
                        </TextBlock>
                    </StackPanel>


                    <StackPanel>
                        <TextBlock
                            TextWrapping="WrapWholeWords"
                            Text="Definitions ex. en-US">
                        </TextBlock>
                        <StackPanel>
                            <TextBlock
                                TextWrapping="WrapWholeWords"
                                Text="  en is a Language">
                            </TextBlock>

                            <TextBlock
                                TextWrapping="WrapWholeWords"
                                Text="  US is a Culture">
                            </TextBlock>

                            <TextBlock
                                TextWrapping="WrapWholeWords"
                                Text="  en-US is also considered a 'Culture'">
                            </TextBlock>

                        </StackPanel>
                    </StackPanel>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>

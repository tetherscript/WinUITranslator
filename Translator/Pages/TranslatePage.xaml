<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Translator.TranslatePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Translator"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:converters="using:Translator"
    mc:Ignorable="d">

    <Page.Resources>
        <converters:InvBoolConv
            x:Key="InvBoolConv" />
        <converters:BoolToOpacityConv
            x:Key="BoolToOpacityConv" />
    </Page.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="*" />
        </Grid.RowDefinitions>



        <StackPanel
            Grid.Row="0"
            Margin="10 10 10 10"
            Spacing="10">
            <StackPanel
                VerticalAlignment="Top"
                Orientation="Horizontal">

                <StackPanel
                    Spacing="10">
                    <StackPanel
                        Spacing="20"
                        Orientation="Horizontal">
                        <Button
                            IsEnabled="{x:Bind Vm.IsBusy, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                            Command="{x:Bind Vm.StartTranslateCommand}"
                            Content="Translate" />
                        <Button
                            IsEnabled="{x:Bind Vm.IsTranslating, Mode=OneWay}"
                            Command="{x:Bind Vm.CancelTranslateCommand}"
                            Content="Cancel" />
                        <ComboBox
                            IsEnabled="{x:Bind Vm.IsBusy, Mode=OneWay, Converter={StaticResource InvBoolConv}}"
                            ItemsSource="{x:Bind Vm.TranslationFunctions}"
                            SelectedValue="{x:Bind Vm.SelectedTranslationFunction, Mode=TwoWay}"
                            DisplayMemberPath="Display"
                            SelectedValuePath="Value"
                            Width="250" />
                    </StackPanel>
                    <ProgressBar
                        Value="{x:Bind Vm.TranslateProgress, Mode=OneWay}"
                        Opacity="{x:Bind Vm.IsTranslating, Mode=OneWay, Converter={StaticResource BoolToOpacityConv}}"
                        Maximum="100"
                        Minimum="0">
                    </ProgressBar>
                </StackPanel>

            </StackPanel>
            <TextBlock
                TextWrapping="WrapWholeWords"
                Text="For each language listed in the target project's \Strings folder, excluding en-US, every translatable item is sent to the selected Translation Function for processing. The resulting translations are then stored in their corresponding Resources.resw files.  When complete, run the target project and you should see the translations.  See the sample app code for language testing tips.">
            </TextBlock>

        </StackPanel>

        <TextBox
            Grid.Row="1"
            Margin="10 0 10 10"
            FontFamily="Courier New"
            AcceptsReturn="True"
            TextWrapping="NoWrap"
            FontWeight="Light"
            IsReadOnly="false"
            TextAlignment="Left"
            Text="{x:Bind Vm.TranslateLog, Mode=OneWay}"
            SelectionStart="{x:Bind Vm.TransLogSelectionStart, Mode=OneWay}"
            SelectionLength="{x:Bind Vm.TransLogSelectionLength, Mode=OneWay}"
            ScrollViewer.VerticalScrollBarVisibility="Auto"
            ScrollViewer.HorizontalScrollBarVisibility="Auto"
            IsTextPredictionEnabled="False">
        </TextBox>



    </Grid>
</Page>
